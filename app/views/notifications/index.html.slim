.row
  .col-md-3.col-md-push-9
    .panel
      .panel-body
        .btn-group
          a.btn.btn-default href=mark_notifications_path data-remote="true" data-method="post"
            = t '.mark_all_as_read'
          a.btn.btn-default.dropdown-toggle data-toggle="dropdown"
            i.fa.fa-caret-down
          ul.dropdown-menu
            li
              a href=clear_notifications_path data-remote="true" data-method="delete" data-confirm=t('.delete_all_confirm')
                = t '.delete_all'
  .col-md-9.col-md-pull-3
    .panel.panel-campo
      .panel-heading
        h3.panel-title
          = t '.notifications'
      .panel-body
        ul.list-group.list-group-campo
          - if @notifications.any?
            - @notifications.each do |notification|
              - cache [notification, locale] do
                = render "notifications/notification/#{notification.name}", notification: notification
          - else
            li.list-group-item.text-center.text-muted.empty-message
              = t '.no_notifications'
      .panel-footer.clearfix
        .pull-right
          = paginate @notifications, theme: 'campo'

- current_user.notifications.unread.where(id: @notifications.pluck(:id)).update_all(read: true)
